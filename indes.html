<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>í•™ìŠµ í€´ì¦ˆ ì‹œìŠ¤í…œ</title>
    <style>
        body {
            font-family: 'Nanum Gothic', sans-serif;
            background-color: #f0f8ff;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .header {
            text-align: center;
            margin-bottom: 20px;
            padding: 10px;
            background: #e3f2fd;
            border-radius: 5px;
        }
        .quiz-container {
            padding: 20px;
            border: 1px solid #e0e0e0;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .question {
            font-size: 24px;
            margin-bottom: 20px;
            color: #2c3e50;
        }
        .options {
            display: grid;
            gap: 10px;
        }
        .option {
            padding: 15px;
            background-color: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 5px;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .option:hover {
            background-color: #e3f2fd;
            border-color: #90caf9;
        }
        .feedback {
            margin-top: 20px;
            font-size: 20px;
            font-weight: bold;
            text-align: center;
            padding: 10px;
            border-radius: 5px;
        }
        .correct {
            background-color: #d4edda;
            color: #155724;
        }
        .incorrect {
            background-color: #f8d7da;
            color: #721c24;
        }
        .admin-panel {
            display: none;
            margin-top: 20px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 5px;
        }
        .admin-input {
            width: 100%;
            padding: 10px;
            margin: 5px 0;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
        }
        .button {
            background-color: #007bff;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin: 5px;
            transition: background-color 0.3s;
        }
        .button:hover {
            background-color: #0056b3;
        }
        .login-form {
            text-align: center;
            margin-bottom: 20px;
        }
        #password {
            padding: 10px;
            margin-right: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
        }
        .question-counter {
            text-align: center;
            margin-bottom: 10px;
            font-size: 16px;
            color: #666;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>í•™ìŠµ í€´ì¦ˆ ì‹œìŠ¤í…œ</h1>
        </div>
        
        <div class="login-form">
            <input type="password" id="password" placeholder="ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸">
            <button onclick="checkPassword()" class="button">ê´€ë¦¬ì ë¡œê·¸ì¸</button>
        </div>

        <div class="question-counter" id="questionCounter"></div>

        <div class="quiz-container">
            <div class="question" id="question">ë¬¸ì œê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤</div>
            <div class="options" id="options"></div>
            <div class="feedback" id="feedback"></div>
        </div>

        <div id="adminPanel" class="admin-panel">
            <h2>ê´€ë¦¬ì íŒ¨ë„</h2>
            <textarea class="admin-input" id="newQuestion" rows="3" placeholder="ìƒˆë¡œìš´ ë¬¸ì œë¥¼ ì…ë ¥í•˜ì„¸ìš”"></textarea>
            <input type="text" class="admin-input" id="option1" placeholder="ë³´ê¸° 1">
            <input type="text" class="admin-input" id="option2" placeholder="ë³´ê¸° 2">
            <input type="text" class="admin-input" id="option3" placeholder="ë³´ê¸° 3">
            <input type="text" class="admin-input" id="option4" placeholder="ë³´ê¸° 4">
            <input type="text" class="admin-input" id="correctAnswer" placeholder="ì •ë‹µ ë²ˆí˜¸ ì…ë ¥ (1-4)">
            <input type="text" class="admin-input" id="correctFeedback" placeholder="ì •ë‹µ í”¼ë“œë°± (ì˜ˆ: ì˜í–ˆì–´ìš”!)">
            <input type="text" class="admin-input" id="incorrectFeedback" placeholder="ì˜¤ë‹µ í”¼ë“œë°± (ì˜ˆ: ë‹¤ì‹œ í•œë²ˆ ìƒê°í•´ë³´ì„¸ìš”)">
            <div style="margin-top: 10px;">
                <button class="button" onclick="addQuestion()">ë¬¸ì œ ì¶”ê°€</button>
                <button class="button" onclick="showNextQuestion()">ë‹¤ìŒ ë¬¸ì œ</button>
                <button class="button" onclick="showPreviousQuestion()">ì´ì „ ë¬¸ì œ</button>
                <button class="button" onclick="editCurrentQuestion()">í˜„ì¬ ë¬¸ì œ ìˆ˜ì •</button>
                <button class="button" onclick="deleteCurrentQuestion()" style="background-color: #dc3545;">í˜„ì¬ ë¬¸ì œ ì‚­ì œ</button>
            </div>
        </div>
    </div>

    <script>
        const adminPassword = "1234"; // ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸
        let questions = [];
        let currentQuestion = 0;

        // localStorageì—ì„œ ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°
        function loadFromLocalStorage() {
            const savedQuestions = localStorage.getItem('quizQuestions');
            const savedCurrentQuestion = localStorage.getItem('currentQuestionIndex');
            
            if (savedQuestions) {
                questions = JSON.parse(savedQuestions);
            } else {
                questions = [{
                    question: "1 + 1 = ?",
                    options: ["1", "2", "3", "4"],
                    correctAnswer: "2",
                    feedback: {
                        correct: "ì •ë‹µì…ë‹ˆë‹¤! ğŸ‘",
                        incorrect: "ë‹¤ì‹œ í•œë²ˆ ìƒê°í•´ë³´ì„¸ìš” ğŸ’­"
                    }
                }];
            }
            
            currentQuestion = savedCurrentQuestion ? parseInt(savedCurrentQuestion) : 0;
        }

        // localStorageì— ë°ì´í„° ì €ì¥
        function saveToLocalStorage() {
            localStorage.setItem('quizQuestions', JSON.stringify(questions));
            localStorage.setItem('currentQuestionIndex', currentQuestion);
        }

        function updateQuestionCounter() {
            const counter = document.getElementById('questionCounter');
            counter.textContent = `ë¬¸ì œ ${currentQuestion + 1} / ${questions.length}`;
        }

        function checkPassword() {
            const password = document.getElementById('password').value;
            const adminPanel = document.getElementById('adminPanel');
            if (password === adminPassword) {
                adminPanel.style.display = 'block';
                alert('ê´€ë¦¬ìë¡œ ë¡œê·¸ì¸ë˜ì—ˆìŠµë‹ˆë‹¤.');
            } else {
                alert('ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë ¸ìŠµë‹ˆë‹¤.');
            }
        }

        function displayQuestion(index) {
            const questionDiv = document.getElementById('question');
            const optionsDiv = document.getElementById('options');
            const feedback = document.getElementById('feedback');
            const question = questions[index];
            
            questionDiv.textContent = `${index + 1}. ${question.question}`;
            optionsDiv.innerHTML = '';
            feedback.textContent = '';
            feedback.className = 'feedback';
            
            question.options.forEach((option, i) => {
                const button = document.createElement('button');
                button.className = 'option';
                button.textContent = `${i + 1}. ${option}`;
                button.onclick = () => checkAnswer(String(i + 1));
                optionsDiv.appendChild(button);
            });

            updateQuestionCounter();
        }

        function checkAnswer(selectedAnswer) {
            const feedback = document.getElementById('feedback');
            const question = questions[currentQuestion];
            
            if (selectedAnswer === question.correctAnswer) {
                feedback.textContent = question.feedback.correct;
                feedback.className = 'feedback correct';
            } else {
                feedback.textContent = question.feedback.incorrect;
                feedback.className = 'feedback incorrect';
            }
        }

        function addQuestion() {
            const newQuestion = {
                question: document.getElementById('newQuestion').value,
                options: [
                    document.getElementById('option1').value,
                    document.getElementById('option2').value,
                    document.getElementById('option3').value,
                    document.getElementById('option4').value
                ],
                correctAnswer: document.getElementById('correctAnswer').value,
                feedback: {
                    correct: document.getElementById('correctFeedback').value || "ì •ë‹µì…ë‹ˆë‹¤! ğŸ‘",
                    incorrect: document.getElementById('incorrectFeedback').value || "ë‹¤ì‹œ í•œë²ˆ ìƒê°í•´ë³´ì„¸ìš” ğŸ’­"
                }
            };
            
            questions.push(newQuestion);
            currentQuestion = questions.length - 1;
            displayQuestion(currentQuestion);
            clearAdminInputs();
            saveToLocalStorage();
            alert('ìƒˆë¡œìš´ ë¬¸ì œê°€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.');
        }

        function clearAdminInputs() {
            document.getElementById('newQuestion').value = '';
            document.getElementById('option1').value = '';
            document.getElementById('option2').value = '';
            document.getElementById('option3').value = '';
            document.getElementById('option4').value = '';
            document.getElementById('correctAnswer').value = '';
            document.getElementById('correctFeedback').value = '';
            document.getElementById('incorrectFeedback').value = '';
        }

        function showNextQuestion() {
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                displayQuestion(currentQuestion);
                saveToLocalStorage();
            } else {
                alert('ë§ˆì§€ë§‰ ë¬¸ì œì…ë‹ˆë‹¤.');
            }
        }

        function showPreviousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                displayQuestion(currentQuestion);
                saveToLocalStorage();
            } else {
                alert('ì²« ë²ˆì§¸ ë¬¸ì œì…ë‹ˆë‹¤.');
            }
        }

        function editCurrentQuestion() {
            const question = questions[currentQuestion];
            document.getElementById('newQuestion').value = question.question;
            document.getElementById('option1').value = question.options[0];
            document.getElementById('option2').value = question.options[1];
            document.getElementById('option3').value = question.options[2];
            document.getElementById('option4').value = question.options[3];
            document.getElementById('correctAnswer').value = question.correctAnswer;
            document.getElementById('correctFeedback').value = question.feedback.correct;
            document.getElementById('incorrectFeedback').value = question.feedback.incorrect;
            
            if (confirm('í˜„ì¬ ë¬¸ì œë¥¼ ìˆ˜ì •í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                questions[currentQuestion] = {
                    question: document.getElementById('newQuestion').value,
                    options: [
                        document.getElementById('option1').value,
                        document.getElementById('option2').value,
                        document.getElementById('option3').value,
                        document.getElementById('option4').value
                    ],
                    correctAnswer: document.getElementById('correctAnswer').value,
                    feedback: {
                        correct: document.getElementById('correctFeedback').value,
                        incorrect: document.getElementById('incorrectFeedback').value
                    }
                };
                displayQuestion(currentQuestion);
                clearAdminInputs();
                saveToLocalStorage();
                alert('ë¬¸ì œê°€ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.');
            }
        }

        function deleteCurrentQuestion() {
            if (confirm('í˜„ì¬ ë¬¸ì œë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                questions.splice(currentQuestion, 1);
                if (currentQuestion >= questions.length) {
                    currentQuestion = questions.length - 1;
                }
                if (questions.length === 0) {
                    questions = [{
                        question: "ë¬¸ì œë¥¼ ì¶”ê°€í•´ì£¼ì„¸ìš”",
                        options: ["ë³´ê¸°1", "ë³´ê¸°2", "ë³´ê¸°3", "ë³´ê¸°4"],
                        correctAnswer: "1",
                        feedback: {
                            correct: "ì •ë‹µì…ë‹ˆë‹¤",
                            incorrect: "í‹€ë ¸ìŠµë‹ˆë‹¤"
                        }
                    }];
                    currentQuestion = 0;
                }
                displayQuestion(currentQuestion);
                saveToLocalStorage();
                alert('ë¬¸ì œê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.');
            }
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
        window.onload = function() {
            loadFromLocalStorage();
            displayQuestion(currentQuestion);
        }
    </script>
</body>
</html>
